<footer class="wrapper-footer">
   <div class="content-footer">


      <div class="content-ul">
         <ul>
            <li class="li-titles-footer">MÁQUINAS Y EQUIPOS</li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/envasadoras/?_filter_envasadoras=envasadoras-flow-pack">Máquinas Envasadoras</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/procesamiento/?_filter_procesamiento=masajeadoras">Máquinas de Procesamiento</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/sistemas-de-inspeccion/?_filter_inspeccion=rayos-x">Máquinas y Sistemas de Inspección</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/cortadoras/?_filter_cortadoras=cortadora-de-cubos-y-tiras">Máquinas Cortadoras</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/otras-tecnologias/?_filter_otras=fabricadoras-de-hielo-troceado">Máquina Fabricadora de Hielo</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/equipos-de-desposte/?_filter_desposte=sierra-de-desposte">Equipos de Desposte</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/hornos-de-coccion/?_filter_hornos=hornos-de-coccion-y-ahumado-pequena">Hornos, marmitas de cocción y ahumado industrial</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/miscelaneos/?_filter_miscelaneos=guantes-de-seguridad">Miscelaneos</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/envasadoras/?_filter_envasadoras=desapilador-de-bandejas">Desapilador de Bandejas</a></li>
         </ul>
      </div>



      <div class="content-ul">
         <ul>
            <li class="li-titles-footer">INDUSTRIAS</li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/avimaq">Avícola</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/bakerymaq">Bakery</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/carnicomaq">Cárnico</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/cobotmaq">Agrícola</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/hortofruticolamaq">Hortofrutícolas</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/logisticmaq">Intralogística</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/lactomaq">Lácteos y Quesos</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/aquamaq">Pescados y Mariscos</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/petfoodmaq">Petfood</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/vegmaq">Veggie & Vegan</a>
            </li>
         </ul>
      </div>



      <div class="content-ul">
         <ul>
            <li class="li-titles-footer">SERVICIOS</li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/servicio-asistencia-tecnica/">Asistencia Técnica SAT</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/quienes-somos/">Quienes Somos</a></li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/noticias/">Noticias</a></li>

            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/politica-de-privacidad/">Política de Privacidad</a></li>
            <!-- <li class="li-enlace"><a href="https://www.taglermaq.cl/politica/">Políticas de Confidencialidad</a></li> -->
         </ul>
         <hr class="line-hr">
         <ul>
            <li class="li-titles-footer">NUESTRAS MARCAS</li>
            <li class="li-enlace"><a href="<?php bloginfo('url'); ?>/proveedores/">Proveedores</a></li>
         </ul>
      </div>


      <!-- DIRECCIÓN -->
      <div class="content-ul">
         <ul>
            <li class="li-titles-footer">TAGLERMAQ</li>
         </ul>
         <h3 class="h3-txt-direccion">Av. Presidente Germán Riesco 8736-1, Renca, Santiago de Chile.</h3>
         <h3 class="h3-txt-direccion">Código Postal: 8640000</h3>
         <h3 class="h3-txt-direccion">Teléfono: (+56) 22 478 1100</h3>
         <hr class="line-hr">
         <ul>
            <li class="li-titles-footer">HORARIO DE ATENCIÓN</li>
         </ul>
         <h3 class="h3-txt-direccion">Lunes a Jueves de 8:15 a 17:45 hrs. Viernes 8:15 a 17:00 hrs.</h3>
         <hr class="line-hr">
         <h3 class="h3-txt-direccion" style="margin: 0 0 1em 0;">
            <strong style="color: black; font-weight: bold; text-transform: uppercase; font-size: 1em;">Fines de semana:</strong><br>Disponibilidad para requerimientos técnicos específicos, previa coordinación con el área correspondiente.
         </h3>
      </div>


      <!-- CAMIONETA -->
      <div class="wrapper--camioneta">
         <img class="img--camioneta" src="<?php bloginfo('url'); ?>/wp-content/uploads/2024/07/camioneta-v2.png" alt="">
      </div>

   </div>
</footer>


<!-- LOGOTIPOS -->
<div class="wrapper-logotipos">
   <div class="wrapper-company">

      <a href="<?php bloginfo('url'); ?>">
         <img class="size-taglermaq" src="<?php bloginfo('url'); ?>/wp-content/uploads/2024/07/taglermaq.svg" alt="">
      </a>

      <!-- <a href="https://www.naturalenergy.cl/">
         <img class="size-goalzero" src="<?php bloginfo('url'); ?>/wp-content/uploads/2024/07/natural.png" alt="">
      </a> -->

      <a href="http://www.taglerfood.cl/">
         <img class="size-taglerfood" src="<?php bloginfo('url'); ?>/wp-content/uploads/2024/07/taglerfood.png" alt="">
      </a>

      <img class="size-sap" src="<?php bloginfo('url'); ?>/wp-content/uploads/2024/07/sap.png" alt="">
      <img class="size-achs" src="<?php bloginfo('url'); ?>/wp-content/uploads/2024/07/verificado-achs.png" alt="">
      <img class="size-rec" src="<?php bloginfo('url'); ?>/wp-content/uploads/2024/07/logotipo-irec.png" alt="">

   </div>
</div>


<div class="wrapper-copyright">
   <h4 class="title-copyright">Copyright© 2024 TAGLERMAQ. Todos los Derechos Reservados.</h4>
</div>




<!-- ACTIVA COLOR MENÚ MULTIMEDIA -->
<script>
   $(document).on('click', '.filtrar', function() {
      $(this).addClass('activador').siblings().removeClass('activador')
   })
</script>



<!-- ACTIVAR FILTROS MULTIMEDIA -->
<script>
   $(document).ready(function() {
      // Función para filtrar los elementos al cargar la página
      filterItems('admix');

      // Función de filtrado
      $('.filtrar').click(function() {
         $filter = $(this).data('filter');
         filterItems($filter);
      });

      // Función para filtrar los elementos
      function filterItems(filter) {
         if (filter == 'all') {
            $('.tile').fadeIn();
         } else {
            $('.tile').hide();
            $('.tile[data-category="' + filter + '"]').fadeIn();
         }
      }
   });
</script>
<!-- FIN MULTIMEDIA -->




<!-- INICIO DROPDOWN -->
<script>
   const selectedAll = document.querySelectorAll(".wrapper-dropdown");

   selectedAll.forEach((selected) => {
      const optionsContainer = selected.children[2];
      const optionsList = selected.querySelectorAll("div.wrapper-dropdown li");

      selected.addEventListener("click", () => {
         let arrow = selected.children[1];

         if (selected.classList.contains("active")) {
            handleDropdown(selected, arrow, false);
         } else {
            let currentActive = document.querySelector(".wrapper-dropdown.active");

            if (currentActive) {
               let anotherArrow = currentActive.children[1];
               handleDropdown(currentActive, anotherArrow, false);
            }

            handleDropdown(selected, arrow, true);
         }
      });

      // update the display of the dropdown
      for (let o of optionsList) {
         o.addEventListener("click", () => {
            selected.querySelector(".selected-display").innerHTML = o.innerHTML;
         });
      }
   });

   // check if anything else ofther than the dropdown is clicked
   window.addEventListener("click", function(e) {
      if (e.target.closest(".wrapper-dropdown") === null) {
         closeAllDropdowns();
      }
   });

   // close all the dropdowns
   function closeAllDropdowns() {
      const selectedAll = document.querySelectorAll(".wrapper-dropdown");
      selectedAll.forEach((selected) => {
         const optionsContainer = selected.children[2];
         let arrow = selected.children[1];

         handleDropdown(selected, arrow, false);
      });
   }

   // open all the dropdowns
   function handleDropdown(dropdown, arrow, open) {
      if (open) {
         arrow.classList.add("rotated");
         dropdown.classList.add("active");
      } else {
         arrow.classList.remove("rotated");
         dropdown.classList.remove("active");
      }
   }
</script>
<!-- FIN DROPDOWN -->




<!-- Handtmann 3D Home -->
<script>
   document.addEventListener("DOMContentLoaded", () => {
      // --- ELEMENTOS DEL DOM ---
      const viewerContainer = document.getElementById("viewer-container");
      const productViewer = document.getElementById("product-viewer");

      if (!viewerContainer || !productViewer) {
         return;
      }

      // --- CONFIGURACIÓN ---
      const totalFrames = 50;
      const imagePath =
         "https://taglermaq.cl/wp-content/themes/taglermaq/fotogramas/handtmann/";
      const imagePrefix = "frame_";
      const imageExtension = ".webp";
      const scrollSensitivity = 20;

      // --- VARIABLES DE ESTADO ---
      let isDragging = false;
      let startX = 0;
      let startFrame = 0;
      let currentFrame = 0;
      const imagePaths = [];
      let lastScrollY = window.scrollY;
      let scrollAccumulator = 0;

      // --- INICIALIZACIÓN ---
      for (let i = 0; i < totalFrames; i++) {
         const frameNumber = i.toString().padStart(2, "0");
         imagePaths.push(
            `${imagePath}${imagePrefix}${frameNumber}${imageExtension}`
         );
      }

      // --- FUNCIONES ---

      // 1. Precarga optimizada de imágenes (secuencial)
      const preloadImagesOptimized = () => {
         let index = 0;
         const loadNext = () => {
            if (index >= imagePaths.length) {
               console.log("Precarga de imágenes completada.");
               return;
            }
            const img = new Image();
            img.onload = loadNext;
            img.onerror = loadNext;
            img.src = imagePaths[index];
            index++;
         };
         loadNext();
      };

      productViewer.src = imagePaths[0];
      preloadImagesOptimized();

      // 2. Lógica de rotación por SCROLL
      const handleScroll = () => {
         if (isDragging) return;
         const currentScrollY = window.scrollY;
         const deltaY = currentScrollY - lastScrollY;
         scrollAccumulator += deltaY;
         if (Math.abs(scrollAccumulator) >= scrollSensitivity) {
            const frameChange = Math.floor(scrollAccumulator / scrollSensitivity);
            currentFrame += frameChange;
            currentFrame =
               ((currentFrame % totalFrames) + totalFrames) % totalFrames;
            productViewer.src = imagePaths[currentFrame];
            scrollAccumulator -= frameChange * scrollSensitivity;
         }
         lastScrollY = currentScrollY;
      };

      // 3. Lógica de rotación por ARRASTRE MANUAL (DRAG)
      const updateImageOnDrag = (e) => {
         if (!isDragging) return;
         const deltaX = e.clientX - startX;
         const sensitivity = 5;
         const frameChange = Math.floor(deltaX / sensitivity);
         let newFrame =
            (((startFrame + frameChange) % totalFrames) + totalFrames) %
            totalFrames;
         productViewer.src = imagePaths[newFrame];
         currentFrame = newFrame;
      };

      // --- EVENT LISTENERS DE ARRASTRE ---
      viewerContainer.addEventListener("mousedown", (e) => {
         e.preventDefault();
         isDragging = true;
         startX = e.clientX;
         startFrame = currentFrame;
      });

      window.addEventListener("mouseup", () => {
         isDragging = false;
      });

      window.addEventListener("mousemove", (e) => {
         updateImageOnDrag(e);
      });

      // --- INTERSECTION OBSERVER (PARA OPTIMIZACIÓN) ---
      const observer = new IntersectionObserver(
         (entries) => {
            const entry = entries[0];
            if (entry.isIntersecting) {
               // Si el contenedor es visible, activamos el scroll.
               window.addEventListener("scroll", handleScroll);
            } else {
               // Si no es visible, lo desactivamos para ahorrar recursos.
               window.removeEventListener("scroll", handleScroll);
            }
         }, {
            threshold: 0.0,
         }
      );

      // Ponemos al observador a vigilar nuestro contenedor.
      observer.observe(viewerContainer);
   });
</script>



<!-- Se oculta la estructura de 3D en el home -->
<script>
   // 1. Obtener el elemento a manipular
   const blockLinks = document.querySelector('.block-links');
   const scrollLimit = 400;

   function handleScroll() {
      // Obtener la posición vertical del scroll
      const scrollPosition = window.scrollY || window.pageYOffset;

      if (blockLinks) {
         if (scrollPosition > scrollLimit) {
            // Si pasa los 400px, añadimos la clase 'scrolled-off'
            blockLinks.classList.add('scrolled-off');
         } else {
            // Si no pasa los 400px, nos aseguramos de que no tenga la clase
            blockLinks.classList.remove('scrolled-off');
         }
      }
   }

   // 2. Adjuntar la función al evento de scroll
   window.addEventListener('scroll', handleScroll);
</script>





<!-- Animación nieve navidad -->
<script>
   var canvas = document.getElementById("snow"),
      ctx = canvas.getContext("2d"),
      snowflakes = [],
      SnowFlake = function X() {
         this.x = 0;
         this.y = 0;
         this.vy = 0;
         this.vx = 0;
         this.r = 0;

         this.reset();
      };

   canvas.style.pointerEvents = "none";

   SnowFlake.prototype.reset = function() {
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * canvas.height;
      this.vy = 1 + Math.random() * 3;
      this.vx = 0.5 - Math.random();
      this.r = 1 + Math.random() * 2;
      this.o = 0.5 + Math.random() * 0.5;
   }

   window.onresize = function() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      while (snowflakes.length < canvas.width / 4) {
         snowflakes.push(new SnowFlake());
      }
   }

   window.onresize();

   window.requestAnimationFrame(function loop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Cambia el color de relleno a blanco
      ctx.fillStyle = 'white';

      for (var i = 0; i < snowflakes.length; i++) {
         var sf = snowflakes[i];
         ctx.globalAlpha = sf.o;
         ctx.beginPath();
         ctx.arc(sf.x, sf.y, sf.r, 0, Math.PI * 2);
         ctx.closePath();
         ctx.fill();

         sf.x += sf.vx;
         sf.y += sf.vy;

         if (sf.x > canvas.width || sf.x < 0 || sf.y > canvas.height) {
            sf.reset();
         }
      }

      window.requestAnimationFrame(loop);
   });
</script>









<?php wp_footer(); ?>

<?php require "script.php"; ?>